%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Author template for INFORMS Journal on Computing (ijoc)
%% Mirko Janc, Ph.D., INFORMS, mirko.janc@informs.org
%% ver. 0.95, December 2010
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%\documentclass[ijoc,blindrev]{informs3}
\documentclass[ijoc,nonblindrev]{informs3} % current default for manuscript submission

%%\OneAndAHalfSpacedXI
\OneAndAHalfSpacedXII % current default line spacing
%%\DoubleSpacedXII
%%\DoubleSpacedXI

% If hyperref is used, dvi-to-ps driver of choice must be declared as
%   an additional option to the \documentclass. For example
%\documentclass[dvips,ijoc]{informs3}      % if dvips is used
%\documentclass[dvipsone,ijoc]{informs3}   % if dvipsone is used, etc.

% Private macros here (check that there is no clash with the style)
\usepackage[]{algorithm2e}

% Natbib setup for author-year style
\usepackage{natbib}
 \bibpunct[, ]{(}{)}{,}{a}{}{,}%
 \def\bibfont{\small}%
 \def\bibsep{\smallskipamount}%
 \def\bibhang{24pt}%
 \def\newblock{\ }%
 \def\BIBand{and}%

%% Setup of theorem styles. Outcomment only one. 
%% Preferred default is the first option.
\TheoremsNumberedThrough     % Preferred (Theorem 1, Lemma 1, Theorem 2)
%\TheoremsNumberedByChapter  % (Theorem 1.1, Lema 1.1, Theorem 1.2)

%% Setup of the equation numbering system. Outcomment only one.
%% Preferred default is the first option.
\EquationsNumberedThrough    % Default: (1), (2), ...
%\EquationsNumberedBySection % (1.1), (1.2), ...

% In the reviewing and copyediting stage enter the manuscript number.
\MANUSCRIPTNO{42} % When the article is logged in and DOI assigned to it,
                 %   this manuscript number is no longer necessary

%%%%%%%%%%%%%%%%
\begin{document}
%%%%%%%%%%%%%%%%

% Outcomment only when entries are known. Otherwise leave as is and 
%   default values will be used.
%\setcounter{page}{1}
%\VOLUME{00}%
%\NO{0}%
%\MONTH{Xxxxx}% (month or a similar seasonal id)
\YEAR{2015}% e.g., 2005
%\FIRSTPAGE{000}%
%\LASTPAGE{000}%
%\SHORTYEAR{00}% shortened year (two-digit)
%\ISSUE{0000} %
%\LONGFIRSTPAGE{0001} %
%\DOI{10.1287/xxxx.0000.0000}%

% Author's names for the running heads
% Sample depending on the number of authors;
% \RUNAUTHOR{Jones}
% \RUNAUTHOR{Jones and Wilson}
% \RUNAUTHOR{Jones, Miller, and Wilson}
% \RUNAUTHOR{Jones et al.} % for four or more authors
% Enter authors following the given pattern:
\RUNAUTHOR{Maltos}

% Title or shortened title suitable for running heads. Sample:
% \RUNTITLE{Bundling Information Goods of Decreasing Value}
% Enter the (shortened) title:
\RUNTITLE{Structs \& Algs for NNS in 2D}

% Full title. Sample:
% \TITLE{Bundling Information Goods of Decreasing Value}
% Enter the full title:
\TITLE{Structures and Algorithms for Nearest Neighbor Search in two dimensions}

% Block of authors and their affiliations starts here:
% NOTE: Authors with same affiliation, if the order of authors allows, 
%   should be entered in ONE field, separated by a comma. 
%   \EMAIL field can be repeated if more than one author
\ARTICLEAUTHORS{%
\AUTHOR{Luis Maltos}
\AFF{Programa de Posgrado en Ingenier\'ia de Sistemas, UANL \EMAIL{luis.maltosor@uanl.edu.mx}, \URL{}}
% Enter all authors
} % end of the block

\ABSTRACT{%
  Consider a set \textit{S} of \textit{n} data points in real 2-dimensional space, 
  where distances are measured using Euclidean metric.
  In nearest neighbor searching, we preprocess S into a data structure,
  so that given any query point \textit{q} $\in R^2$,
  is the closest point of \textit{S} to \textit{q} can be reported quickly.
  

}%

% Sample 
%\KEYWORDS{deterministic inventory theory; infinite linear programming duality; 
%  existence of optimal policies; semi-Markov decision process; cyclic schedule}

% Fill in data. If unknown, outcomment the field
\KEYWORDS{nearest neighbor searching}
%\HISTORY{}

\maketitle
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% Samples of sectioning (and labeling) in IJOC
% NOTE: (1) \section and \subsection do NOT end with a period
%       (2) \subsubsection and lower need end punctuation
%       (3) capitalization is as shown (title style).
%
%\section{Introduction.}\label{intro} %%1.
%\subsection{Duality and the Classical EOQ Problem.}\label{class-EOQ} %% 1.1.
%\subsection{Outline.}\label{outline1} %% 1.2.
%\subsubsection{Cyclic Schedules for the General Deterministic SMDP.}
%  \label{cyclic-schedules} %% 1.2.1
%\section{Problem Description.}\label{problemdescription} %% 2.

% Text of your paper here
\section{Introduction.}
Nearest neighbor searching is the following problem: 
We are given a set \textit{S} of \textit{n} data points in a metric space, \texit{X},
and the task is to preprocess these points so that,
given any query point $q \in X$,
the data point nearest to \textit{q} can be reported quickly.
This is also called the closest-point problem and the post office problem.
Nearest neighbor searching is an important problem in a variety of applications, including 
statistics [Devroye and Wagner 1982],
pattern recognition and classification [Cover and Hart 1967; Duda and Hart 1973],
document retrieval [Deerwester et al. 1990],
data compression [Gersho and Gray 1991],
machine learning [Cost and Salzberg 1993],
multimedia databases [Flickner et al. 1995],
and knowledge discovery and data mining [Fayyad et al. 1996].

Hierarchical data structures are useful because of their ability to focus on the
interesting subsets of the data. 
This focusing results in an efficient representation and improved execution times and is thus
particularly useful for performing set operations

\section{Nearest Neighbor Searching using B-trees}
B-tree is a tree data structure that keeps data sorted
and allows searches, sequential access, insertions, 
and deletions in logarithmic time. 
The B-tree is a generalization of a binary search tree 
in that a node can have more than two children (Comer 1979, p. 123).
To store the points in the B-tree, an order relation was used.

\subsection{Algorithm for B-trees}
Given an order relation, it's easy to search the predecessor / successor,
but we can't guarantee that any of them is the nearest.
Then we need to keep looking, to ensure we have the nearest point.
Since we're using a relation of lexicographical order,
we can stop lookin for points, 
when the difference betwen the first coordinate,
is greater than the minimum distance found.

\begin{algorithm}[t]
  \KwData{T: B-tree with the points, p: point to find its nearest neighbor}
  \KwResult{the nearest neighbor of p}
  x = find-node(p)\;
  \lIf{x != NULL}{return p\;}
  ans = NULL\;
  r = s = p\;
  \While{r != NULL or s != NULL}{
    \uIf{r != NULL}{
      r = predecessor(T,r)\;
      \lIf{ans = NULL or dist(ans,p) $>$ dist(p,r)}{ans = r\;}
      x = find-node(r)\;
      \uIf{x.leaf}{
        \ForEach{r child of x}{\lIf{dist(ans,p) $>$ dist(r,p)}{ans = r\;}}
        r = x.first-child\;
      }
      \lIf{dist(ans,p) $<$ p.x - r.x}{r = NULL\;}
    }
    \uIf{s != NULL}{
      s = successor(T,s)\;
      \lIf{ans = NULL or dist(ans,p) $>$ dist(p,s)}{ans = s\;}
      x = find-node(r)\;
      \uIf{x.leaf}{
        \ForEach{s child of x}{\lIf{dist(ans,p) $>$ dist(p,s)}{ans = s\;}}
        s = x.last-child\;
      }
      \lIf{dist(ans,p) $<$ s.x - p.x}{s = NULL\;}
    }    
  }
  \caption{Nearest Neighbor in B-tree}
\end{algorithm}

\section{Quadtree}
The term quadtree is used to describe a class of hierarchical data structures whose
common property is that they are based on the principle of recursive decomposition of space.
They can be differentiated on the following bases: 
(1) the type of data that they are used to represent, 
(2) the principle guiding the decomposition process, and 
(3) the resolution (variable or not)


A quadtree is a tree data structure in which each internal node has exactly four children. 
Quadtrees are most often used to partition a two-dimensional space by recursively 
subdividing it into four quadrants or regions. 
The regions may be square or rectangular, or may have arbitrary shapes. 
This data structure was named a quadtree by Raphael Finkel and J.L. Bentley in 1974. 

In this section, we introduce the \textit{balanced box-decomposition tree} or BBD-tree,
which is a data structure used in our algorithm. 
It is among the general class of geometric data structures based on a hierarchical decomposition of space
into \textit{d}-dimensional rectangles whose sides are orthogonal to the coordinate axes.
The main feature of the BBD-tree is that it combines in one data structure two
important features that are present in these data structures.
This data structure recursively subdivides space by a hyperplane that is orthogonal to one
of the coordinate axes and that partitions the data points as evenly as possible.
As a consequence, as one descends any path in the tree, the cardinality of points
associated with the nodes on this path decreases exponentially.

\section{Grid}


\section{Experimental Results}

% Acknowledgments here
\ACKNOWLEDGMENT{%
We would like to thank Elisa Schaeffer for her helpful comments.
}% Leave this (end of acknowledgment)


% Appendix here
% Options are (1) APPENDIX (with or without general title) or 
%             (2) APPENDICES (if it has more than one unrelated sections)
% Outcomment the appropriate case if necessary
%
% \begin{APPENDIX}{<Title of the Appendix>}
% \end{APPENDIX}
%
%   or 
%
% \begin{APPENDICES}
% \section{<Title of Section A>}
% \section{<Title of Section B>}
% etc
% \end{APPENDICES}


% References here (outcomment the appropriate case) 

% CASE 1: BiBTeX used to constantly update the references 
%   (while the paper is being written).
%\bibliographystyle{ijocv081} % outcomment this and next line in Case 1
%\bibliography{<your bib file(s)>} % if more than one, comma separated

% CASE 2: BiBTeX used to generate mypaper.bbl (to be further fine tuned)
%\input{mypaper.bbl} % outcomment this line in Case 2

\end{document}


